<div class="questionnaire-container">
  <% @questions.each_with_index do |question, i| %>
    <!-- if user is a client -->
    <%= form_for @answers[i], :url => user_answers_path do |f| %>
      <% if @user && @user.role == 'client' %>
        <li>Client question: <%= question.client_question %></li>
      <% elsif @user && @user.role == 'stylist' %>
        <li>Stylist question: <%= question.stylist_question %></li>
      <% end %>

      <% if @answers[i].id %>
        <%= f.label :answer, 'yes' %>
        <%= f.check_box :answer, true, class: "answerInput answer#{i}", name: 'my-checkbox',
          checked: @answers[i].answer == true %>
        <%= f.label :answer, 'no' %>
        <%= f.check_box :answer, false, class: "answerInput answer#{i}", name: 'my-checkbox',
          checked: @answers[i].answer == false %>
      <% else %>
        <%= f.label :answer, 'yes' %>
        <%= f.check_box :answer, true, class: "answerInput answer#{i}", name: 'my-checkbox' %>
        <%= f.label :answer, 'no' %>
        <%= f.check_box :answer, false, class: "answerInput answer#{i}", name: 'my-checkbox' %>
      <% end %>

      <!-- <input type="checkbox" name="my-checkbox" checked> -->

<!-- this should only show if a user answers yes where an additional info field is true -->
      <% if @questions[i].additional_info %>
        <%= f.text_area :additional_info, required: true %>
      <% end %>

      <input type="hidden" value=<%= @questions[i].id %> name="answer[question_id]", class="questionId">

      <% if i == 0 %>
        <input type="hidden" value=<%= @user.id %> name="answer[user_id]"
          class="userId">
        <input type="hidden" value=<%= @user.role %> name="answer[user_type]", class="userType">
      <% end %>
    <% end %>
  <% end %>
  <% if @questionnaire_complete %>
    <input type="submit" value="Next" class="btn btn-success" id="completeRegistrationButton">
  <% else %>
    <input type="submit" value="Next" style="display: none" class="btn btn-success" id="completeRegistrationButton">
  <% end %>
</div>
